{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nexport const fetchBooks = createAsyncThunk('book/fetchBooks', async (_, thunkAPI) => {\n  const {\n    rejectWithValue\n  } = thunkAPI;\n\n  try {\n    const result = await fetch('http://localhost:3005/books');\n    return result.json();\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst bookSlice = createSlice({\n  name: 'book',\n  initialState: {\n    books: [],\n    isLoading: false,\n    error: null\n  },\n  reducers: {},\n\n  extraReducers(builder) {\n    builder.addCase(fetchBooks.pending, (state, action) => {\n      state.isLoading = true;\n    });\n    builder.addCase(fetchBooks.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.books = action.payload;\n    });\n    builder.addCase(fetchBooks.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  }\n\n});\nexport const bookReducer = bookSlice.reducer;","map":{"version":3,"sources":["/Users/mohammedhussam/Desktop/Redux/book-store-rtk/book-store-app/src/store/bookSlice.js"],"names":["createSlice","createAsyncThunk","fetchBooks","_","thunkAPI","rejectWithValue","result","fetch","json","error","message","bookSlice","name","initialState","books","isLoading","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","rejected","bookReducer","reducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AAEA,OAAO,MAAMC,UAAU,GAAGD,gBAAgB,CACxC,iBADwC,EAExC,OAAOE,CAAP,EAAUC,QAAV,KAAuB;AACrB,QAAM;AAAEC,IAAAA;AAAF,MAAsBD,QAA5B;;AACA,MAAI;AACF,UAAME,MAAM,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAA1B;AACA,WAAOD,MAAM,CAACE,IAAP,EAAP;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACd,WAAOJ,eAAe,CAACI,KAAK,CAACC,OAAP,CAAtB;AACD;AACF,CAVuC,CAAnC;AAaP,MAAMC,SAAS,GAAGX,WAAW,CAAC;AAC5BY,EAAAA,IAAI,EAAE,MADsB;AAE5BC,EAAAA,YAAY,EAAE;AAAEC,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,SAAS,EAAE,KAAxB;AAA+BN,IAAAA,KAAK,EAAE;AAAtC,GAFc;AAG5BO,EAAAA,QAAQ,EAAE,EAHkB;;AAI5BC,EAAAA,aAAa,CAACC,OAAD,EAAU;AACrBA,IAAAA,OAAO,CAACC,OAAR,CAAgBjB,UAAU,CAACkB,OAA3B,EAAoC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACrDD,MAAAA,KAAK,CAACN,SAAN,GAAkB,IAAlB;AACD,KAFD;AAIAG,IAAAA,OAAO,CAACC,OAAR,CAAgBjB,UAAU,CAACqB,SAA3B,EAAsC,CAACF,KAAD,EAAQC,MAAR,KAAmB;AACvDD,MAAAA,KAAK,CAACN,SAAN,GAAkB,KAAlB;AACAM,MAAAA,KAAK,CAACP,KAAN,GAAcQ,MAAM,CAACE,OAArB;AACD,KAHD;AAKAN,IAAAA,OAAO,CAACC,OAAR,CAAgBjB,UAAU,CAACuB,QAA3B,EAAqC,CAACJ,KAAD,EAAQC,MAAR,KAAmB;AACtDD,MAAAA,KAAK,CAACN,SAAN,GAAkB,KAAlB;AACAM,MAAAA,KAAK,CAACZ,KAAN,GAAca,MAAM,CAACE,OAArB;AACD,KAHD;AAID;;AAlB2B,CAAD,CAA7B;AAqBA,OAAO,MAAME,WAAW,GAAGf,SAAS,CAACgB,OAA9B","sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const fetchBooks = createAsyncThunk(\n  'book/fetchBooks',\n  async (_, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      const result = await fetch('http://localhost:3005/books');\n      return result.json();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst bookSlice = createSlice({\n  name: 'book',\n  initialState: { books: [], isLoading: false, error: null },\n  reducers: {},\n  extraReducers(builder) {\n    builder.addCase(fetchBooks.pending, (state, action) => {\n      state.isLoading = true;\n    });\n\n    builder.addCase(fetchBooks.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.books = action.payload;\n    });\n\n    builder.addCase(fetchBooks.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  },\n});\n\nexport const bookReducer = bookSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}